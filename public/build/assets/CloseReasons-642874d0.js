import{r as n,j as a,a as e}from"./app-e057de79.js";import r from"./InvoicesButton-7ea88f0c.js";import M from"./SmallTable-883a92fa.js";import"./react-paginate-61d0e15f.js";import"./index-e929b1ea.js";import"./NotFound-19253a0b.js";import"./index-2fd36de9.js";import"./listbox-f3941a9f.js";import"./use-is-mounted-31350877.js";import"./render-5eaee1c9.js";import"./keyboard-7b642a18.js";import"./bugs-55244794.js";import"./use-resolve-button-type-ff7c32c3.js";import"./transition-d8cb4eb2.js";function V({url:u,states:g,AlertToast:N,currentUser:o,getCloseReasons:w,closeReasons:l,setCloseReasons:v}){function b(){return 4}const[d,f]=n.useState(!1),[h,i]=n.useState(null),[y,S]=n.useState(0),C=`${u}api/GTIS/Add/PoCloseReason`,[p,j]=n.useState();n.useState();const[k,c]=n.useState(l);n.useEffect(()=>{l||(j(!0),P())},[]);function I(){return o.role_id!=8}n.useEffect(()=>{c(l)},[l]);const P=async()=>{axios.get(`${u}api/GTIS/PoCloseReasons`,{headers:{UserId:o.user_id}}).then(t=>{const m=JSON.stringify(t.data);new Promise((s,B)=>{const F=JSON.parse(m);s(F)}).then(s=>{v(s.reverse())})}).catch(t=>{console.log(t)})},D=[{label:"Reason Name",key:"ReasonName"},{label:"Status",key:"StatusId"}];function A(t){E(t)}const E=t=>{const m=l.filter(x=>t.length>0?x.ReasonName.includes(t):!0);c(m)};return a("div",{className:"bg-smooth",children:[p&&a("div",{className:"min-h-screen md:pl-20 pt-16 h-full flex flex-col items-center justify-center",children:[a("div",{className:"flex items-center justify-center",children:[e("div",{className:"h-5 w-5 bg-goldd rounded-full mr-5 animate-bounce"}),e("div",{className:"h-5 w-5 bg-goldd rounded-full mr-5 animate-bounce200"}),e("div",{className:"h-5 w-5 bg-goldd rounded-full animate-bounce400"})]}),e("div",{className:"text-dark mt-4 font-bold",children:"Please wait while we get the data for you."})]}),!p&&a("div",{className:"p-5",children:[a("div",{className:"flex gap-x-1",children:[e("h1",{className:"font-bold text-dark text-3xl",children:"Close Reasons"})," ",a("p",{className:"mt-auto text-gray-400",children:["(",l==null?void 0:l.length,")"]})]}),a("div",{className:"flex justify-between flex-col sm:flex-row gap-y-3 my-5",children:[e("div",{className:"flex gap-x-5 gap-y-5 flex-col md:flex-row",children:a("div",{className:"relative border rounded",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute top-0 bottom-0 w-4 h-4 my-auto text-gray-400 left-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e("input",{type:"text",placeholder:"Search",onChange:t=>{A(t.target.value)},className:"w-full py-0.5 h-[25px] pl-12 pr-4 text-gray-500 border-none rounded-md outline-none "})]})}),a("div",{className:"flex flex-row  gap-x-5 gap-y-3",children:[e("div",{className:"",children:e(r,{name:"Export",className:"w-full hidden"})}),e("div",{className:"",children:e(r,{name:"Import",className:"w-full hidden"})}),h!=null?e("div",{className:"col-span-2",children:e(r,{name:"Cancel",onClick:()=>i(null),className:"w-full "})}):null,I()?e("div",{className:"col-span-2",children:e(r,{name:d?"Cancel":"Add Reason",onClick:()=>{i(null),f(!d)},className:"w-full "})}):null]})]}),e(M,{fromModel:b,showAddRow:d,setShowAddRow:f,editIndex:h,setEditIndex:i,getfunction:w,objects:k,currentUser:o,AlertToast:N,setObjects:c,dynamicHeaders:D,addurl:C,states:g,currentPage:y,setCurrentPage:S})]})]})}export{V as default};
