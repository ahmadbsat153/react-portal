import{r as s}from"./app-e057de79.js";import{h as E,T as p}from"./keyboard-7b642a18.js";import{s as v}from"./render-5eaee1c9.js";function d(t,e,o){let l=v(e);s.useEffect(()=>{function f(i){l.current(i)}return document.addEventListener(t,f,o),()=>document.removeEventListener(t,f,o)},[t,o])}function w(t,e,o=!0){let l=s.useRef(!1);s.useEffect(()=>{requestAnimationFrame(()=>{l.current=o})},[o]);function f(n,a){if(!l.current||n.defaultPrevented)return;let m=function c(r){return typeof r=="function"?c(r()):Array.isArray(r)||r instanceof Set?r:[r]}(t),u=a(n);if(u!==null&&u.getRootNode().contains(u)){for(let c of m){if(c===null)continue;let r=c instanceof HTMLElement?c:c.current;if(r!=null&&r.contains(u)||n.composed&&n.composedPath().includes(r))return}return!E(u,p.Loose)&&u.tabIndex!==-1&&n.preventDefault(),e(n,u)}}let i=s.useRef(null);d("mousedown",n=>{var a,m;l.current&&(i.current=((m=(a=n.composedPath)==null?void 0:a.call(n))==null?void 0:m[0])||n.target)},!0),d("click",n=>{i.current&&(f(n,()=>i.current),i.current=null)},!0),d("blur",n=>f(n,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function H(t){let e=t.parentElement,o=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(o=e),e=e.parentElement;let l=(e==null?void 0:e.getAttribute("disabled"))==="";return l&&L(o)?!1:l}function L(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}export{w as L,H as r};
