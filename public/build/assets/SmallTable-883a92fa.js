import{r as o,a as e,j as r,F as I}from"./app-e057de79.js";import{R as re}from"./react-paginate-61d0e15f.js";import{g as se}from"./index-e929b1ea.js";import{n as ne}from"./NotFound-19253a0b.js";import{a as q,b as D}from"./index-2fd36de9.js";import{H as p}from"./listbox-f3941a9f.js";import{t as H}from"./transition-d8cb4eb2.js";import"./use-is-mounted-31350877.js";import"./render-5eaee1c9.js";import"./keyboard-7b642a18.js";import"./bugs-55244794.js";import"./use-resolve-button-type-ff7c32c3.js";function ke({fromModel:w,showAddRow:K,setShowAddRow:A,objects:F,editIndex:g,setEditIndex:$,dynamicHeaders:P,AlertToast:k,setObjects:ie,getfunction:_,addurl:B,states:f,currentUser:S,currentPage:V,setCurrentPage:Q}){function x(...t){return t.filter(Boolean).join(" ")}const[v,O]=o.useState(),[i,z]=o.useState(F);o.useEffect(()=>{f&&O(f[0])},[]),o.useEffect(()=>{z(F)},[F]),o.useState(!1);const[C,j]=o.useState(!1),[E,L]=o.useState(!1),[c,m]=o.useState({}),[h,y]=o.useState(null),J=o.useRef(),[oe,U]=o.useState(!1),[ce,W]=o.useState(!1),[d,de]=o.useState([]);o.useLayoutEffect(()=>{const t=(d==null?void 0:d.length)>0&&(d==null?void 0:d.length)<(i==null?void 0:i.length);U((d==null?void 0:d.length)===(i==null?void 0:i.length)),W(t),J.current&&(J.current.indeterminate=t)},[d]);const N=10,T=V*N,X=t=>{Q(t.selected)},Y=Math.ceil((i==null?void 0:i.length)/N);function Z(t){if(g!==null){const a=[...i];a[g+V*N]=h,z(a),axios.post(B,h,{headers:{UserId:S.user_id}}).then(l=>{_(),$(null),k("Saved Successfully",1),y({})}).catch(l=>{k("Error please try again.",2),y({}),console.log(l)})}}function G(){return w()==2?S.role_id==1:w()==1||w()==4||w()==3?S.role_id!=8:!0}function M(){let t=c;c.StatusId||m({...c,StatusId:1}),c.CompanyName&&(c.StateId||(m({...c,StateId:v.StateId}),t={...c,StateId:v.StateId})),axios.post(B,t,{headers:{UserId:S.user_id}}).then(a=>{const l=JSON.stringify(a.data);_(),new Promise((n,u)=>{const b=JSON.parse(l);n(b)}).then(n=>{k("Saved Successfully",1),m({})})}).catch(a=>{k("Error please try again.",2),m({}),console.log(a)})}function R(t,a){const l=t.toLowerCase();for(const s of i)if(s.hasOwnProperty(a)&&typeof s[a]=="string"&&s[a].toLowerCase()===l)return!0;return!1}function ee(t,a){const l=t.target.value,s=a.key;R(l,s)?j("Name Already Exists !"):l.length==0?j("Please Enter A Value!"):j(!1),m({...c,[s]:l,StatusId:1})}function te(t,a,l){const s=t.toLowerCase(),n=l.toLowerCase();for(const u of i)if(u.hasOwnProperty(a)&&typeof u[a]=="string"&&u[a].toLowerCase()===s&&n!==s)return!0;return!1}function ae(t,a,l){const s=t.target.value,n=a.key;te(s,n,l)?L("Name Already Exists !"):s.length==0?L("Please Enter A Value!"):(L(!1),y({...h,[n]:s}))}return e("div",{children:e("div",{className:" w-full bg-smooth pb-20",children:e("div",{className:"mx-auto mt-4 rounded",children:e("div",{className:"pt-2",children:r("div",{children:[e("div",{className:"flow-root  bg-white ",children:e("div",{className:"w-full border rounded-lg overflow-x-auto containerscroll",children:e("div",{className:"inline-block min-w-full  align-middle ",children:r("div",{className:"relative",children:[(d==null?void 0:d.length)>0&&e("div",{className:"absolute left-14 top-0 flex h-12 items-center space-x-3 bg-white sm:left-12"}),r("table",{className:"min-w-full table-fixed divide-y divide-gray-300",children:[e("thead",{className:"h-9 bg-gray-100",children:r("tr",{className:"py-2",children:[e("th",{scope:"col",className:"w-8 text-left text-sm font-semibold text-gray-600 border",children:e("span",{className:"sr-only",children:"ID"})}),P.map(t=>e("th",{scope:"col",className:"px-2 text-left text-sm font-semibold text-gray-400 border",children:t.label},t.key)),G()?e("th",{scope:"col",className:"px-3 w-20 text-left text-sm font-semibold text-gray-400 border",children:e("span",{className:"",children:"Edit"})}):null]})}),r("tbody",{className:"divide-y divide-gray-300 h-5",children:[K&&r("tr",{children:[e("td",{className:"whitespace-nowrap bg-gray-100 py-2 pl-4 pr-3 text-sm font-medium text-gray-500 sm:pl-3 border-l"})," ",P.map(t=>e("td",{className:"whitespace-nowrap py-2 pl-4 pr-3 text-sm font-medium text-dark sm:pl-2 border border-t-2 border-b-2 border-gray-400",children:t.key=="StatusId"?r("div",{className:"block",children:[r("div",{className:"flex items-center gap-x-3",children:[e("input",{id:"active",name:"Status",type:"radio",value:"active",defaultChecked:"true",onChange:a=>{m({...c,[t.key]:1})},className:"h-4 w-4 border-gray-300 text-dark focus:ring-goldd"}),e("label",{htmlFor:"active",className:"block text-sm font-medium leading-6 text-gray-900",children:"Active"})]}),r("div",{className:"flex items-center gap-x-3",children:[e("input",{id:"inactive",name:"Status",type:"radio",value:"inactive",onChange:a=>{m({...c,[t.key]:2})},className:"h-4 w-4 border-gray-300 text-dark focus:ring-goldd"}),e("label",{htmlFor:"inactive",className:"block text-sm font-medium leading-6 text-gray-900",children:"Inactive"})]})]}):t.key=="StateId"?e("div",{children:e(p,{value:v,onChange:a=>{O(a),m({...c,[t.key]:a.StateId})},children:({open:a})=>e(I,{children:r("div",{className:"relative ",children:[r(p.Button,{className:"relative w-full cursor-default rounded-md bg-white py-[0.07rem] pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[e("span",{className:"block truncate",children:v.StateName}),e("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:e(q,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),e(H,{show:a,as:o.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(p.Options,{className:"absolute z-20 mt-1 max-h-32 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:f.map(l=>e(p.Option,{className:({active:s})=>x(s?"bg-indigo-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"),value:l,children:({selected:s,active:n})=>r(I,{children:[e("span",{className:x(s?"font-semibold":"font-normal","block truncate"),children:l.StateName}),s?e("span",{className:x(n?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:e(D,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},l.StateId))})})]})})})}):r("div",{children:[e("input",{type:"text",value:c[t.key],onChange:a=>{ee(a,t)},className:"w-full px-2 py-1 border-gray-300 rounded focus:ring-goldt focus:border-goldd"}),C&&e("p",{className:"text-red-600 pt-1 ",children:C})]})},t.key)),e("td",{className:"border-t-2 border-b-2 border-r-2 border-gray-400",children:r("button",{className:`text-blue-400 ml-2 pl-2 hover:text-blue-900 ${C?"text-gray-600 cursor-not-allowed":""}`,onClick:()=>{Object.values(c).every(t=>t!=="")&&(M(),m({}),A(!1))},disabled:C,children:[e("span",{className:"font-bold text-lg",children:"+"})," ","Add"]})})]}),(i==null?void 0:i.length)>0?i==null?void 0:i.slice(T,T+N).map((t,a)=>r("tr",{children:[e("td",{className:`whitespace-nowrap bg-gray-100 py-2 pl-4 pr-3 text-sm font-medium text-gray-500 sm:pl-3  ${g==a?" border-l-2 border-t-2 border-b-2 border-gray-400 ":"border"}`,children:a+1+V*N}),P.map(l=>{var s;return e("td",{className:`whitespace-nowrap py-2 pl-4 pr-3 text-sm font-medium text-dark sm:pl-2 border  ${g==a?"  border-t-2 border-b-2 border-gray-400 ":"border"}`,children:g==a?e("div",{className:"",children:l.key=="StatusId"?r("div",{className:"block",children:[r("div",{className:"flex items-center gap-x-3",children:[e("input",{id:"active",name:"Status",type:"radio",value:"active",defaultChecked:h[l.key]==1,onChange:n=>{y({...h,[l.key]:1})},className:"h-4 w-4 border-gray-300 text-dark focus:ring-goldd"}),e("label",{htmlFor:"active",className:"block text-sm font-medium leading-6 text-gray-900",children:"Active"})]}),r("div",{className:"flex items-center gap-x-3",children:[e("input",{id:"inactive",name:"Status",type:"radio",value:"inactive",defaultChecked:h[l.key]==2,onChange:n=>{y({...h,[l.key]:2})},className:"h-4 w-4 border-gray-300 text-dark focus:ring-goldd"}),e("label",{htmlFor:"inactive",className:"block text-sm font-medium leading-6 text-gray-900",children:"Inactive"})]})]}):l.key=="StateId"?e("div",{children:e(p,{value:v,onChange:n=>{O(n),y({...h,[l.key]:n.StateId})},children:({open:n})=>e(I,{children:r("div",{className:"relative ",children:[r(p.Button,{className:"relative w-full cursor-default rounded-md bg-white py-[0.07rem] pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6",children:[e("span",{className:"block truncate",children:v.StateName}),e("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:e(q,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),e(H,{show:n,as:o.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(p.Options,{className:"absolute z-20 mt-1 max-h-32 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:f.map(u=>e(p.Option,{className:({active:b})=>x(b?"bg-indigo-600 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"),value:u,children:({selected:b,active:le})=>r(I,{children:[e("span",{className:x(b?"font-semibold":"font-normal","block truncate"),children:u.StateName}),b?e("span",{className:x(le?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:e(D,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},u.StateId))})})]})})})}):r("div",{children:[e("input",{type:"text",defaultValue:t[l.key],onChange:n=>ae(n,l,t[l.key]),className:"w-full px-2 py-1 border-gray-300 rounded focus:ring-goldt focus:border-goldd"}),E&&e("p",{className:"text-red-600 pt-1 ",children:E})]})}):e("div",{children:l.key=="StatusId"?r("div",{children:[" ",t[l.key]==1?e("span",{className:"inline-flex items-center rounded-full bg-green-100 px-3 py-0.5 text-sm font-medium text-green-800",children:"Active"}):e("span",{className:"inline-flex items-center rounded-full bg-red-100 px-3 py-0.5 text-sm font-medium text-red-800",children:"Inactive"})]}):l.key=="StateId"?(s=f==null?void 0:f.find(n=>n.StateId===t[l.key]))==null?void 0:s.StateCode:t[l.key]})},l.key)}),G()?e("td",{className:`relative whitespace-nowrap py-2 pl-3 pr-4 text-right text-sm font-medium sm:pr-0  ${E?"cursor-not-allowed":""} ${g==a?"border-t-2 border-r-2 border-b-2 border-gray-400":"border"}`,children:e("div",{className:"ml-1",children:g==a?r("a",{href:"#",onClick:()=>{Z()},className:`text-green-700 hover:text-blue-900 flex gap-x-1 ${E?" text-red-500 pointer-events-none":""}`,children:[e(D,{className:"w-5 h-5 "}),e("span",{children:"Save"})]}):e("div",{children:r("a",{href:"#",onClick:()=>{A(!1),$(a),y(t)},className:"text-blue-500 hover:text-blue-900 flex gap-x-1",children:[e(se,{className:"text-blue-400 w-5 h-5"}),e("span",{children:"Edit"})]})})})}):null]},a)):e("tr",{children:e("td",{colSpan:"18",children:e("div",{className:" h-72 flex items-center justify-center mt-5",children:r("div",{className:"text-center flex justify-center flex-col",children:[e("img",{src:ne,alt:"",className:"w-52 h-auto "}),e("h1",{className:"text-3xl font-bold text-gray-900",children:"No Data Found"})]})})})})]})]})]})})})}),e("div",{className:"pt-4 pb-10 text-xs text-gray-400",children:e(re,{previousLabel:"← Previous",nextLabel:"Next →",pageCount:Y,onPageChange:X,containerClassName:"flex justify-center items-center mt-4",pageClassName:"mx-2 rounded-full hover:bg-gray-100",previousLinkClassName:"px-3 py-2 bg-gray-100 text-gray-700 rounded-l hover:bg-gray-200",nextLinkClassName:"px-3 py-2 bg-gray-100 text-gray-700 rounded-r hover:bg-gray-200",disabledClassName:"opacity-50 cursor-not-allowed",activeClassName:"text-blue-500 font-bold"})})]})})})})})}export{ke as default};
