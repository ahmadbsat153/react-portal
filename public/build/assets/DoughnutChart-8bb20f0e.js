import{r as d,j as x,a as r}from"./app-e057de79.js";import{C as p,D as C,A as w,T as E,p as v}from"./chart-edd6f26f.js";import"./chartjs-adapter-moment.esm-ca28907c.js";import{t}from"./Utils-ddf74621.js";import"./moment-fbc5633a.js";p.register(C,w,E,v);function L({data:c,width:u,height:g}){const m=d.useRef(null),h=d.useRef(null);return d.useEffect(()=>{const y=m.current,f=new p(y,{type:"doughnut",data:c,options:{cutout:"80%",layout:{padding:24},plugins:{legend:{display:!1}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:500},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate(n,R,j){const o=h.current;if(!o)return;for(;o.firstChild;)o.firstChild.remove();n.options.plugins.legend.labels.generateLabels(n).forEach(s=>{const i=document.createElement("li");i.style.margin=t().theme.margin[1];const e=document.createElement("button");e.classList.add("btn-xs"),e.style.backgroundColor=t().theme.colors.white,e.style.borderWidth=t().theme.borderWidth[1],e.style.borderColor=t().theme.colors.slate[200],e.style.color=t().theme.colors.slate[500],e.style.boxShadow=t().theme.boxShadow.md,e.style.opacity=s.hidden?".3":"",e.onclick=()=>{n.toggleDataVisibility(s.index,!s.index),n.update()};const l=document.createElement("span");l.style.display="block",l.style.width=t().theme.width[2],l.style.height=t().theme.height[2],l.style.backgroundColor=s.fillStyle,l.style.borderRadius=t().theme.borderRadius.sm,l.style.marginRight=t().theme.margin[1],l.style.pointerEvents="none";const a=document.createElement("span");a.style.display="flex",a.style.alignItems="center";const b=document.createTextNode(s.text);a.appendChild(b),i.appendChild(e),e.appendChild(l),e.appendChild(a),o.appendChild(i)})}}]});return()=>f.destroy()},[c]),x("div",{className:"grow flex flex-col justify-center",children:[r("div",{children:r("canvas",{ref:m,width:u,height:g})}),r("div",{className:"px-5 pt-2 pb-6",children:r("ul",{ref:h,className:"flex flex-wrap justify-evenly -m-1"})})]})}export{L as default};
