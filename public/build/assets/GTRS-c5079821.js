import{r as t,i as d,a as i,j as D}from"./app-e057de79.js";import"./index.esm-aeecd397.js";import"./index-2d4490b8.js";import"./TextInput-ea077d76.js";/* empty css               */import"./react-paginate-61d0e15f.js";import"./index-18cf91c4.js";import"./moment-fbc5633a.js";import"./FileSaver.min-104598b7.js";import"./exceljs.min-9c74167d.js";import"./MultiChartsLine-e337c738.js";import"./BarColumnCharts-a3cd5202.js";import"./moment-80f1d0fa.js";import"./PdfPreview-a5044247.js";import"./DropBox-c4906c74.js";import"./ReactToastify-0668b2f3.js";import rt from"./Charts-ec089e3b.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./index-d3e6c2d2.js";import"./createLoading-8fbf5230.js";import"./tslib.es6-3c43c0a4.js";import"./index-3598ead0.js";import"./index-2fd36de9.js";import"./clsx.m-84295364.js";import"./MainCharts-6b3fbb03.js";import"./SafetyRepByState-9db987a1.js";import"./chart-edd6f26f.js";import"./chartjs-adapter-moment.esm-ca28907c.js";import"./Utils-ddf74621.js";import"./SafetyCard02-d222542b.js";import"./safetyRepChart-ddd1d93d.js";import"./DoughnutChart-8bb20f0e.js";import"./SafetyDoubleBarChart-719631e6.js";import"./SafetyBarChart01-7448d6ce.js";import"./StackedBarChart-ca1548c3.js";import"./BasicColumnChart-74b78200.js";import"./react-select.esm-e6119c41.js";import"./assertThisInitialized-9eca4e7a.js";import"./emotion-react.browser.esm-ebc793e1.js";import"./emotion-memoize.esm-f5713a00.js";import"./hoist-non-react-statics.cjs-8f2ef505.js";import"./NotFound-19253a0b.js";import"./MultiLineChart-b307ad41.js";import"./DoublBarChart-dabfe02a.js";/* empty css              */import"./popover-807b57b5.js";import"./render-5eaee1c9.js";import"./keyboard-7b642a18.js";import"./bugs-55244794.js";import"./use-is-mounted-31350877.js";import"./use-resolve-button-type-ff7c32c3.js";import"./use-event-listener-2051adf1.js";import"./transition-d8cb4eb2.js";import"./ChartsSidebar-904b72ab.js";import"./index-e929b1ea.js";import"./GtrsCons-c31ce13f.js";import"./KPI-03aae69e.js";import"./Consignment-39c6bbd5.js";import"./ConsPerf-435b0f56.js";import"./navbar-959d2c4d.js";import"./Details-95636064.js";import"./General-b8a06492.js";import"./Amount-90fe2add.js";import"./Sender-e3b01db1.js";import"./Reciever-44699f87.js";import"./NoDelivery-449ff661.js";import"./AdditionalCharges-f7bc6c4b.js";import"./DriverLogin-fcc00563.js";import"./safetyRep-7acd0377.js";import"./safetyRepTable-a8374365.js";import"./index-92f9eb90.js";import"./AddSafetyType-003f8828.js";import"./AddSafetyTypeModel-0de92d42.js";import"./InputError-d98f57fe.js";import"./RDDMain-c0ac62e7.js";import"./AddRDDReason-4d82efdb.js";import"./AddRDDReasonModal-55967214.js";import"./RDD-398cb7cb.js";import"./listbox-f3941a9f.js";import"./TextField-a48264b4.js";import"./TransitionGroup-43273414.js";import"./emotion-is-prop-valid.esm-fbcdb146.js";import"./FailedConsMain-0f0a607e.js";import"./FailedCons-99edc43d.js";import"./AddFailedReason-490efbc8.js";import"./AddFailedModal-a8091227.js";import"./MissingPOD-78c49ea4.js";function He({sessionData:f,activeIndexGTRS:S,setActiveIndexGTRS:g,setLoadingGtrs:l,currentUser:o,loadingGtrs:N}){const[y,P]=t.useState([]),[x,R]=t.useState([]),[b,v]=t.useState([]),[w,A]=t.useState([]),[I,J]=t.useState([]),[O,j]=t.useState(0),[C,$]=t.useState(0),[T,_]=t.useState(!1),[F,G]=t.useState(!1),[B,E]=t.useState(!1),[K,k]=t.useState(!1),[q,z]=t.useState([]),[H,L]=t.useState([]),[M,Q]=t.useState([]),[V,W]=t.useState([]),[X,it]=t.useState([]),[h,u]=t.useState([]),[Y,pt]=t.useState([]),[Z,mt]=t.useState([]),[U,dt]=t.useState([]),[tt,et]=t.useState(o),[at,ot]=t.useState(),[st,nt]=t.useState(null),p="https://gtlsnsws10-vm.gtls.com.au:5478/";return t.useEffect(()=>{l(!1),et(o),d.get(`/childrens/${o.id}`).then(m=>{ot(m.data.data),d.post(`${p}api/GTRS/Dashboard`,m.data.data,{headers:{RoleId:o.role_id}}).then(e=>{const s=JSON.stringify(e.data);new Promise((a,c)=>{const r=JSON.parse(s);a(r)}).then(a=>{R(a),_(!0)})}).catch(e=>{console.log(e)}),d.get(`${p}api/SafetyReport`,{headers:{RoleId:o.role_id}}).then(e=>{const s=JSON.stringify(e.data);new Promise((a,c)=>{const r=JSON.parse(s);a(r)}).then(a=>{Q(a||[])})}).catch(e=>{console.log(e)}),d.get(`${p}api/Debtors`,{headers:{RoleId:o.role_id}}).then(e=>{const s=JSON.stringify(e.data);new Promise((a,c)=>{const r=JSON.parse(s);a(r)}).then(a=>{v(a||[]),k(!0)})}).catch(e=>{console.log(e)}),d.post(`${p}api/GTRS/Consignments`,m.data.data,{headers:{RoleId:o.role_id}}).then(e=>{const s=JSON.stringify(e.data);new Promise((a,c)=>{const r=JSON.parse(s);a(r)}).then(a=>{W(a||[]),G(!0)})}).catch(e=>{console.log(e)}),d.post(`${p}api/GTRS/PerformanceReport`,m.data.data,{headers:{RoleId:o.role_id}}).then(e=>{const s=JSON.stringify(e.data),n=JSON.parse(s);u(n||[]),E(!0)}).catch(e=>{console.log(e)})}).catch(m=>console.log(m))},[tt]),F&&B&&T&&K&&l(!0),N?i("div",{className:"bg-smooth",children:i("div",{className:"md:pl-20 pt-16 ",children:i(rt,{userBody:at,url:p,chartsData:x,safetyTypes:q,setSafetyTypes:z,safetyCauses:H,setSafetyCauses:L,failedReasons:w,rddReasons:I,setrddReasons:J,setFailedReasons:A,safetyData:M,debtorsData:b,rddData:y,setrddData:P,IDfilter:st,sessionData:f,currentUser:o,dashData:h,setActiveIndexGTRS:g,activeIndexGTRS:S,setactiveCon:j,consData:V,setLastIndex:$,KPIData:X,DriverData:U,AdditionalData:Z,NoDelData:Y,activeCon:O,lastIndex:C,PerfData:h,setPerfData:u})})}):D("div",{className:"min-h-screen md:pl-20 pt-16 h-full flex flex-col items-center justify-center",children:[D("div",{className:"flex items-center justify-center",children:[i("div",{className:"h-5 w-5 bg-goldd rounded-full mr-5 animate-bounce"}),i("div",{className:"h-5 w-5 bg-goldd rounded-full mr-5 animate-bounce200"}),i("div",{className:"h-5 w-5 bg-goldd rounded-full animate-bounce400"})]}),i("div",{className:"text-dark mt-4 font-bold",children:"Please wait while we get the data for you."})]})}export{He as default};
