import{r as e,R as g}from"./app-e057de79.js";const $=e.createContext({accordionRef:null,items:{},setItems:c=>{},transition:null,alwaysOpen:!1}),N=({children:c,as:i="div",className:l="",transition:r=void 0,alwaysOpen:n=!1})=>{const u=e.useRef(null),[a,o]=e.useState({}),f=e.useMemo(()=>i||"div",[i]),d=e.useMemo(()=>({accordionRef:u,items:a,setItems:o,transition:r,alwaysOpen:n}),[n,a,r]);return g.createElement($.Provider,{value:d},g.createElement(f,{className:l},c))},y=e.createContext({accordionRef:null,active:!1,items:{},hash:"",transition:null,alwaysOpen:!1,toggle:()=>{},isActive:!1}),S=({children:c,isActive:i=!1})=>{const{accordionRef:l,items:r,setItems:n,transition:u,alwaysOpen:a}=e.useContext($),[o,f]=e.useState(!1),d=e.useMemo(()=>Math.random().toString(36).substring(2,9),[]);e.useEffect(()=>{d in r||n({...r,[d]:f})},[r]);const s=e.useMemo(()=>({accordionRef:l,active:o,toggle:()=>f(!o),items:r,hash:d,transition:u,alwaysOpen:a,isActive:i}),[l,o,a,d,i,r,u]);return g.createElement(y.Provider,{value:s},typeof c=="function"?c({open:o}):c)},C=({children:c,as:i="button",className:l="",href:r="",onClick:n})=>{const{hash:u,toggle:a,items:o,alwaysOpen:f,isActive:d}=e.useContext(y),s=e.useRef(null),x=e.useMemo(()=>i||"button",[i]);return e.useEffect(()=>{if(d&&s&&s.current){a();const p=s.current;p.setAttribute("aria-expanded","true");const h=document.querySelector(`#${p.getAttribute("aria-controls")}`);h&&(h.style.maxHeight="none")}},[]),e.useEffect(()=>{const p=t=>{let m=t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",m==="false"?"true":"false")},h=t=>{if(t){const m=()=>{t.style.maxHeight!=="0px"&&(t.style.maxHeight="none"),t.removeEventListener("transitionend",m)};t.addEventListener("transitionend",m),t.style.maxHeight==="0px"?t.style.maxHeight=t.scrollHeight+"px":(t.style.maxHeight=t.scrollHeight+"px",t.style.maxHeight=t.scrollHeight+"px",t.style.maxHeight="0px")}};if(s&&s.current){const t=s==null?void 0:s.current,m=b=>{var A;if(x==="a"&&b.preventDefault(),a(),!f){const E=(A=t.parentNode)==null?void 0:A.querySelectorAll(`:scope > ${x}[aria-expanded='true']`);E&&E.forEach(v=>{if(v&&v!==t){const R=v.id.split("-")[1];o[R](!1),p(v);const H=document.querySelector(`#${v.getAttribute("aria-controls")}`);H&&h(H)}})}p(t);const M=document.querySelector(`#${t.getAttribute("aria-controls")}`);h(M),n&&n(b)};return t&&t.addEventListener("click",m),()=>{t&&t.removeEventListener("click",m)}}return()=>{}},[x,f,o,n,a]),x==="a"?g.createElement("a",{ref:s,id:`button-${u}`,href:r,"aria-expanded":"false",className:l,"aria-controls":`content-${u}`},c):g.createElement(x,{ref:s,id:`button-${u}`,"aria-expanded":"false",className:l,"aria-controls":`content-${u}`},c)},w=({children:c,as:i="div",className:l=""})=>{const{hash:r,transition:n}=e.useContext(y),u=e.useMemo(()=>i||"div",[i]),a=e.useMemo(()=>{const o={duration:"300ms",timingFunction:"cubic-bezier(0, 0, 0.2, 1)"};return n&&"duration"in n&&n.duration&&(o.duration=n.duration),n&&"timingFunction"in n&&n.timingFunction&&(o.timingFunction=n.timingFunction),o},[n]);return g.createElement(u,{id:`content-${r}`,"aria-labelledby":`button-${r}`,className:l,style:{maxHeight:"0px",transitionProperty:"max-height",overflow:"hidden",transitionDuration:a.duration,transitionTimingFunction:a.timingFunction}},c)};export{N as A,S as a,C as b,w as c};
