import{r as t,a as l,j as c}from"./app-e057de79.js";import{C as j,a as E,b as P,T as O,c as _,P as L,E as F,d as R,e as T,S as A,N as B,f as V,U as $}from"./index-e929b1ea.js";/* empty css               */const K=[{id:0,name:"Dashboard",href:"#",icon:P,current:!0,role:["1","2","3","4","5"]},{id:1,name:"Consignments",href:"#",icon:O,current:!1,role:["1","2","3","4","5"]},{id:2,name:"KPI Report ",href:"#",icon:_,current:!1,role:["1","2","3","4","5"]},{id:4,name:"Performance Report",href:"#",icon:L,current:!1,role:["1","2","3","4","5"]},{id:5,name:"Failed Consignments",href:"#",icon:F,current:!1,role:["1","2","3","4","5"]},{id:9,name:"RDD",href:"#",icon:R,current:!1,role:["1","2","3","4","5"]},{id:11,name:"Missing POD",href:"#",icon:T,current:!1,role:["1","2","3","4","5"]},{id:10,name:"Safety",href:"#",icon:A,current:!1,role:["1","2","3","4","5"]},{id:6,name:"No Delivery info.",href:"#",icon:B,current:!1,role:["1","3","4","5"]},{id:7,name:"Additional Charges",href:"#",icon:V,current:!1,role:["1","3","4","5"]},{id:8,name:"Driver Login",href:"#",icon:$,current:!1,role:["1","3","4","5"]}];function p(...d){return d.filter(Boolean).join(" ")}function z({sessionData:d,activeIndexGTRS:v,setActiveIndexGTRS:g,currentUser:s,onData:w}){const[o,m]=t.useState([]),[f,N]=t.useState(!1),k=o.length>0,y=()=>{N(!f)},[i,h]=t.useState([]),b=(e,a)=>{const r=o.map(n=>n.value===e.value?{...n,checked:!n.checked}:n);m(r),C(a)},C=e=>{const a=e.target.value;e.target.checked&&!i.includes(a)?h([...i,a]):h(i.filter(r=>r!==a))};function S(e){return[...e].sort((r,n)=>r.parent_id-n.parent_id)}t.useEffect(()=>{x(v),axios.get(`/childrenlist/${s.id}`).then(e=>{const a=e.data.data.map(r=>({...r,checked:!1}));m(S(a))})},[]),t.useEffect(()=>{w(i)},[i]);const I=s.role_id,[u,D]=t.useState(K),x=e=>{g(e);const a=u.map(r=>r.id===e?{...r,current:!0}:{...r,current:!1});D(a)};return l("div",{className:"h-full xl:fixed xl:w-64 md:h-full xl:fixed bg-gray-200 w-full ",children:l("div",{className:" h-[90%] md:inset-y-0 flex md:w-full md:flex-row ",children:c("div",{className:" h-full w-full overflow-y-scroll containerscroll",children:[c("div",{className:"flex flex-col",children:[l("div",{className:"flex flex-shrink-0  p-4 ",children:l("div",{className:"group block w-full flex-shrink-0",children:c("div",{className:"flex items-center",children:[l("div",{children:s.icon?l("img",{className:"inline-block h-14 w-14",src:"/app/icons/blank-profile.jpg",alt:""}):l("img",{className:"inline-block h-14 w-14 object-contain",src:`/app/icons/${s.icon}`,alt:""})}),c("div",{className:"ml-3",children:[l("p",{className:"text-sm font-medium text-gray-800",children:s.name}),l("p",{className:" text-[0.7rem] text-gray-500 ",children:s.email})]})]})})}),l("div",{className:"mt-5 flex-1 xl:flex-col space-y-1 px-2 w-full md:flex-row md:flex md:mt-0 hover:cursor-pointer containerscroll",children:k&&c("div",{className:"group flex flex-col items-center px-2 py-2 text-gray-700 text-sm font-medium rounded-md w-full hover:bg-gray-100",children:[c("div",{onClick:y,className:"flex flex-row w-full justify-between items-center",children:[c("div",{className:"flex flex-row items-center",children:[l(j,{className:"mr-3 flex-shrink-0 h-6 w-6"}),l("div",{className:"pt-1",children:"Accounts"})]}),l("div",{className:"flex-shrink-0 ",children:l(E,{className:"h-4 w-4"})})]}),l("div",{className:"text-left w-full",children:f&&l("div",{className:"text-left max-h-64 overflow-y-scroll mt-3 pt-1 pl-1 containerscroll",children:o.map(e=>c("div",{className:"flex items-center",children:[l("input",{type:"checkbox",id:e.value,value:e.value,checked:e.checked,onChange:a=>b(e,a)}),l("label",{htmlFor:e.value,className:"ml-2",children:e.label})]},e.value))})})]})})]}),l("div",{className:" pt-2 pb-4 w-full",children:l("nav",{className:"mt-5 flex-1 hidden xl:flex-col space-y-1 px-2 w-full md:flex-row md:flex md:mt-0 ",children:u.filter(e=>e.role.includes(I)).map(e=>c("a",{onClick:()=>x(e.id),href:e.href,className:p(e.current?"bg-gray-300 text-gray-900":"text-gray-700 hover:bg-gray-500 hover:text-white","group flex flex-row items-center px-2 py-2 text-sm font-medium rounded-md lg:w-1/2 xl:w-full"),children:[l(e.icon,{className:p(e.current?"text-gray-800":"text-gray-700 group-hover:text-gray-300","mr-3 flex-shrink-0 h-6 w-6"),"aria-hidden":"true"}),e.name]},e.name))})})]})})})}export{z as default};
