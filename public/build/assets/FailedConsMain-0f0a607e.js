import{r as a,a as e,j as s}from"./app-e057de79.js";import A from"./FailedCons-99edc43d.js";import J from"./AddFailedReason-490efbc8.js";import"./react-paginate-61d0e15f.js";import"./index-18cf91c4.js";import"./NotFound-19253a0b.js";import"./exceljs.min-9c74167d.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./FileSaver.min-104598b7.js";import"./index-92f9eb90.js";import"./moment-fbc5633a.js";import"./index-2fd36de9.js";import"./index-2d4490b8.js";import"./TextInput-ea077d76.js";import"./listbox-f3941a9f.js";import"./use-is-mounted-31350877.js";import"./render-5eaee1c9.js";import"./keyboard-7b642a18.js";import"./bugs-55244794.js";import"./use-resolve-button-type-ff7c32c3.js";import"./transition-d8cb4eb2.js";import"./popover-807b57b5.js";import"./use-event-listener-2051adf1.js";import"./AddFailedModal-a8091227.js";import"./InputError-d98f57fe.js";/* empty css               */function pt({url:l,PerfData:h,setPerfData:f,setActiveIndexGTRS:x,setLastIndex:g,setactiveCon:b,IDfilter:N,currentUser:t,accData:v,EDate:u,setEDate:y,SDate:w,setSDate:S,failedReasons:m,setFailedReasons:n,oldestDate:C,latestDate:F}){const[c,I]=a.useState(0),[j,r]=a.useState(),[L,_]=a.useState(null),[O,k]=a.useState(!1),R=["1","3","4"];a.useEffect(()=>{m||(r(!0),D())},[]);const D=async()=>{try{axios.get(`${l}api/FailureReasons`,{headers:{RoleId:t.role_id}}).then(o=>{const i=JSON.stringify(o.data);new Promise((d,M)=>{const P=JSON.parse(i);d(P)}).then(d=>{n(d||[]),r(!1)})}).catch(o=>{console.log(o)})}catch(o){console.error("Error fetching data:",o)}};a.useEffect(()=>{t&&t.role_id&&_(t.role_id),k((t==null?void 0:t.role_id)===1||(t==null?void 0:t.role_id)===3)},[t]);const p=[e(A,{url:l,failedReasons:m,currentUser:t,accData:v,setActiveIndexGTRS:x,PerfData:h,setactiveCon:b,setLastIndex:g,IDfilter:N,EDate:u,setEDate:y,SDate:w,setSDate:S,setPerfData:f,oldestDate:C,latestDate:F}),e(J,{url:l,failedReasons:m,setFailedReasons:n,currentUser:t})],E=o=>{I(o)};return e("div",{children:j?s("div",{className:"min-h-screen md:pl-20 pt-16 h-full flex flex-col items-center justify-center",children:[s("div",{className:"flex items-center justify-center",children:[e("div",{className:"h-5 w-5 bg-goldd rounded-full mr-5 animate-bounce"}),e("div",{className:"h-5 w-5 bg-goldd rounded-full mr-5 animate-bounce200"}),e("div",{className:"h-5 w-5 bg-goldd rounded-full animate-bounce400"})]}),e("div",{className:"text-dark mt-4 font-bold",children:"Please wait while we get the data for you."})]}):s("div",{className:"px-4 sm:px-6 lg:px-8 w-full bg-smooth pb-20",children:[e("div",{className:"sm:flex sm:items-center",children:e("div",{className:"sm:flex-auto mt-6",children:e("h1",{className:"text-2xl py-2 px-0 font-extrabold text-gray-600",children:"Failed Consignments Report"})})}),R.includes(t.role_id)?e("ul",{className:"flex space-x-0 mt-5",children:p.map((o,i)=>e("li",{className:`cursor-pointer ${c===i?"text-dark border-b-4 py-2 border-goldt font-bold text-xs sm:text-base":"text-dark py-2 text-xs sm:text-base border-b-2 border-gray-300"}`,onClick:()=>E(i),children:s("div",{className:"px-2",children:[" ",i===0?"Failed Consignments":"Failed Reasons"]})},i))}):e("div",{}),e("div",{className:"mt-4",children:p[c]})]})})}export{pt as default};
