import{r as e,a as y}from"./app-e057de79.js";import{chartColors as b}from"./ChartjsConfig-c194a2bd.js";import{C as u,B as x,e as B,d as M,T as Y,p as T,a as E}from"./chart-edd6f26f.js";import"./chartjs-adapter-moment.esm-ca28907c.js";import{f as g}from"./Utils-ddf74621.js";import{useThemeProvider as S}from"./ThemeContext-fd13f5c1.js";import"./moment-fbc5633a.js";u.register(x,B,M,Y,T,E);function _({data:k,width:m,height:f}){const[o,h]=e.useState(null),p=e.useRef(null),{currentTheme:c}=S(),r=c==="dark",{textColor:t,gridColor:l,tooltipBodyColor:a,tooltipBgColor:i,tooltipBorderColor:s}=b;return e.useEffect(()=>{const C=p.current,d=new u(C,{type:"bar",data:k,options:{layout:{padding:{top:12,bottom:16,left:20,right:20}},scales:{y:{stacked:!0,border:{display:!1},beginAtZero:!0,ticks:{maxTicksLimit:5,callback:n=>g(n),color:r?t.dark:t.light},grid:{color:r?l.dark:l.light}},x:{stacked:!0,type:"time",time:{parser:"MM-DD-YYYY",unit:"month",displayFormats:{month:"MMM YY"}},border:{display:!1},grid:{display:!1},ticks:{autoSkipPadding:48,maxRotation:0,color:r?t.dark:t.light}}},plugins:{legend:{display:!1},tooltip:{callbacks:{title:()=>!1,label:n=>g(n.parsed.y)},bodyColor:r?a.dark:a.light,backgroundColor:r?i.dark:i.light,borderColor:r?s.dark:s.light}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:200},maintainAspectRatio:!1,resizeDelay:200}});return h(d),()=>d.destroy()},[]),e.useEffect(()=>{o&&(r?(o.options.scales.x.ticks.color=t.dark,o.options.scales.y.ticks.color=t.dark,o.options.scales.y.grid.color=l.dark,o.options.plugins.tooltip.bodyColor=a.dark,o.options.plugins.tooltip.backgroundColor=i.dark,o.options.plugins.tooltip.borderColor=s.dark):(o.options.scales.x.ticks.color=t.light,o.options.scales.y.ticks.color=t.light,o.options.scales.y.grid.color=l.light,o.options.plugins.tooltip.bodyColor=a.light,o.options.plugins.tooltip.backgroundColor=i.light,o.options.plugins.tooltip.borderColor=s.light),o.update("none"))},[c]),y("canvas",{ref:p,width:m,height:f})}export{_ as default};
